-- Create tables from test task, fill them from .csv files using psql tool --

CREATE SCHEMA IF NOT EXISTS ANP;
CREATE TABLE IF NOT EXISTS ANP.T_SQLT_ART
(
	ART_ID INTEGER PRIMARY KEY,
	CODE VARCHAR(64),
	NAME	VARCHAR(64),
	ART_GRP_LVL_0_ID	INTEGER,
	ART_GRP_LVL_0_NAME	VARCHAR(256),
	ART_GRP_LVL_1_ID	INTEGER,
	ART_GRP_LVL_1_NAME	VARCHAR(256),
	ART_GRP_LVL_2_ID	INTEGER,
	ART_GRP_LVL_2_NAME	VARCHAR(256),
	ART_GRP_LVL_3_ID	INTEGER,
	ART_GRP_LVL_3_NAME	VARCHAR(256),
	ART_GRP_LVL_4_ID	INTEGER,
	ART_GRP_LVL_4_NAME	VARCHAR(256),
	TAX_PRCNT	DECIMAL(18,6),
	VOL_TRANSP	DECIMAL(18,8),
	WEIGTH	FLOAT
);
CREATE TABLE IF NOT EXISTS ANP.T_SQLT_SALES
(
	DAY_ID	DATE,
	WHS_ID	INTEGER,
	ART_ID	INTEGER,
	SALE_QNTY	DECIMAL(18,6),
	SALE	DECIMAL(18,6),
	SALE_COGS	DECIMAL(18,6),
	PRIMARY KEY(DAY_ID, WHS_ID, ART_ID)
);
CREATE TABLE IF NOT EXISTS ANP.T_SQLT_REST
(
	DAY_ID	DATE,
	WHS_ID	INTEGER,
	ART_ID	INTEGER,
	REST_QNTY	DECIMAL(18,6),
	REST_CP	DECIMAL(18,6),
	PRIMARY KEY(DAY_ID, WHS_ID, ART_ID)
);
CREATE TABLE IF NOT EXISTS ANP.T_SQLT_TXN
(
	DAY_ID	DATE,
	TIME_ID	TIME,
	WHS_ID	INTEGER,
	ART_ID	INTEGER,
	TXN_ID	DECIMAL(18,0),
	QNTY	DECIMAL(18,3),
	PRICE	DECIMAL(18,2),
	PRIMARY KEY(DAY_ID, WHS_ID, ART_ID)
);